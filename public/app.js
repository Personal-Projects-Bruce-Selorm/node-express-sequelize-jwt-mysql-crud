if(document.cookie.indexOf("jwt_exist")>-1){const classList=[".login",".register",".logout",".dashbord"];classList.forEach(val=>{if(val===".login"||val===".register"){document.querySelector(val).classList.add("hidden")}else{document.querySelector(val).classList.remove("hidden")}})}if(document.cookie.indexOf("jwt_exist")>-1){location.assign("/dashbord")}const signIn=function(){var form=document.querySelector("form");var usernameError=document.querySelector(".error.username");var passwordeError=document.querySelector(".error.password");var unauthorizedeError=document.querySelector(".error.unauthorized");form.addEventListener("submit",async e=>{e.preventDefault();var username=form.username.value;var password=form.password.value;console.log(username);var res=await fetch("/sign-in",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:username,password:password})});var data=await res.json();console.log(data);if(data.errors){usernameError.textContent=data.errors.username;passwordeError.textContent=data.errors.password;console.log(data.errors.unauthorized);unauthorizedeError.textContent=data.errors.unauthorized}if(data.user){location.assign("/dashbord")}})};const signUp=function(){var form=document.querySelector("form");var usernameError=document.querySelector(".error.username");var passwordeError=document.querySelector(".error.password");var tosAgreementError=document.querySelector(".error.tosAgreement");form.addEventListener("submit",async e=>{e.preventDefault();var username=form.username.value;var password=form.password.value;var tosAgreement=form.tosAgreement.checked;var res=await fetch("/sign-up",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:username,password:password,tosAgreement:tosAgreement})});var data=await res.json();if(data.errors){usernameError.textContent=data.errors.username;passwordeError.textContent=data.errors.password;tosAgreementError.textContent=data.errors.tosAgreement}if(data.user){location.assign("/dashbord")}})};